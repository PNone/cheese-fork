<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="utf-8">
    <meta name="description" content="כלי בניית מערכת שעות עבור סטודנטים בטכניון | A class schedule maker for students at the Technion">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>CheeseFork - Your Cheesy Scheduler</title>
    <link rel="shortcut icon" type="image/png" href="favicon.ico">
    <link rel="stylesheet" href="https://www.gstatic.com/firebasejs/ui/3.3.0/firebase-ui-auth-rtl.css">
    <link rel="stylesheet" href="modules/bootstrap-rtl/css/bootstrap.min.css">
    <link rel="stylesheet" href="modules/bootstrap4-dialog/css/bootstrap-dialog.min.css">
    <link rel="stylesheet" href="modules/fullcalendar/fullcalendar.min.css">
    <link rel="stylesheet" media="print" href="modules/fullcalendar/fullcalendar.print.min.css">
    <link rel="stylesheet" href="modules/selectize/css/selectize.bootstrap4.css">
    <link rel="stylesheet" href="loader.css">
    <link rel="stylesheet" href="components/course-button-list/course-button-list.css">
    <link rel="stylesheet" href="components/course-exam-info/course-exam-info.css">
    <link rel="stylesheet" href="components/course-calendar/course-calendar.css">
    <link rel="stylesheet" href="cheesefork.css">
</head>
<body class="bg-light">
<div class="container-fluid">
    <div class="loading" id="page-loader">Loading&#8230;</div>

    <div class="pos-f-t">
        <div class="collapse px-4 pt-4" id="navbarToggleExternalContent">
            <div id="firebase-sign-in" class="form-group row">
                <div id="user-signed-out">
                    <div id="firebaseui-auth-container"></div>
                </div>
                <div id="user-signed-in">
                    מחובר בתור <span id="user-name" class="font-weight-bold"></span>
                    <button type="button" class="btn" id="sign-out">התנתק</button>
                </div>
            </div>
            <div class="form-group row">
                <label for="select-semester" class="col-form-label pr-2">מעבר לסמסטר:</label>
                <select name="select-semester" id="select-semester" class="form-control" style="width:auto;"></select>
            </div>
            <div class="form-group row">
                <div>
                    יצוא לקובץ iCalendar:
                    <button type="button" class="btn" id="save-as-ics">יצוא</button>
                </div>
            </div>
        </div>
        <nav class="navbar navbar-light">
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarToggleExternalContent" aria-controls="navbarToggleExternalContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="mx-auto">
                <h2 id="main-logo" dir="ltr">
                    CheeseFork
                    <img src="logo.png" alt="logo" height="30">
                </h2>
            </div>
        </nav>
    </div>

    <div class="row">
        <div id="right-content-bar" class="col-md-2 invisible">
            <div class="d-flex flex-column h-100">
                <select id="select-course" class="select-course" placeholder="לחצו לבחירת מקצוע...">
                    <option value="">לחצו לבחירת מקצוע...</option>
                </select>

                <div id="general-info"></div>

                <ul id="course-button-list" class="list-group"></ul>

                <div class="d-flex flex-column" style="flex:1;">
                    <div id="course-exam-info" class="mt-auto"></div>
                </div>
            </div>
        </div>
        <div id="course-calendar" class="col-md-10"></div>
    </div>

    <footer class="pt-4 text-muted text-center text-small">
        <p class="mb-1">
            <span id="footer-semester" class="d-none">מציג מידע עבור סמסטר <span id="footer-semester-name"></span>.</span>
            תוכנת על ידי <a href="https://github.com/michael-maltsev" target="_blank">מיכאל מלצב</a>.
        </p>
    </footer>
</div>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-115440973-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-115440973-1');
</script>
<script src="modules/fullcalendar/lib/jquery.min.js"></script>
<script src="modules/popper/popper.js"></script>
<script src="modules/bootstrap-rtl/js/bootstrap.min.js"></script>
<script src="modules/bootstrap4-dialog/js/bootstrap-dialog.min.js"></script>
<script src="modules/fullcalendar/lib/moment.min.js"></script>
<script src="modules/fullcalendar/fullcalendar.min.js"></script>
<script src='modules/fullcalendar/locale/he.js'></script>
<script src="modules/selectize/js/standalone/selectize.min.js"></script>
<script src="modules/color-hash/color-hash.js"></script>
<script src="modules/ics.js/ics.deps.min.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.3.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.3.1/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.3.1/firebase-firestore.js"></script>
<script src="https://www.gstatic.com/firebasejs/ui/3.3.0/firebase-ui-auth__iw.js"></script>
<script>
    var availableSemesters = [
        '201701', '201702', '201703',
        '201801'
    ];
    var currentSemester;
    (function () {
        // https://stackoverflow.com/a/901144
        function getParameterByName(name, url) {
            if (!url) url = window.location.href;
            name = name.replace(/[\[\]]/g, "\\$&");
            var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
                results = regex.exec(url);
            if (!results) return null;
            if (!results[2]) return '';
            return decodeURIComponent(results[2].replace(/\+/g, " "));
        }

        currentSemester = getParameterByName('semester');
        if (availableSemesters.indexOf(currentSemester) === -1) {
            currentSemester = '201801';
        }
        var script = document.createElement('script');
        script.src = 'courses/courses_' + currentSemester + '.min.js';
        document.write(script.outerHTML);
    })();
</script>
<script src="components/course-button-list/course-button-list.js"></script>
<script src="components/course-exam-info/course-exam-info.js"></script>
<script src="components/course-calendar/course-calendar.js"></script>
<script src="course-manager.js"></script>
<script src="cheesefork.js"></script>
</body>
</html>
